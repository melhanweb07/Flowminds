<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - MindWell</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo" onclick="navigateTo('home.html')">
                <i class="fas fa-brain"></i>
                <h1>MindWell</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="home.html" class="nav-link">Home</a></li>
                    <li><a href="chatbot.html" class="nav-link">Chatbot</a></li>
                    <li><a href="appointment.html" class="nav-link active">Appointments</a></li>
                    <li><a href="resources.html" class="nav-link">Resources</a></li>
                    <li><a href="forum.html" class="nav-link">Forum</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <div class="user-avatar" onclick="navigateTo('profile.html')">JS</div>
                <button class="btn btn-outline" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </div>
    </header>

    <div class="container appointment-page">
        <h2 class="section-title">Book an Appointment</h2>
        
        <div class="appointment-container">
            <div class="counselor-selection">
                <h3>Select a Counselor</h3>
                <p>Choose from our qualified mental health professionals</p>
                
                <div class="counselor-card selected" data-counselor="dr-smith">
                    <div class="counselor-header">
                        <div class="counselor-avatar">DS</div>
                        <div>
                            <h4>Dr. Sarah Smith</h4>
                            <p>Anxiety & Stress Specialist</p>
                        </div>
                    </div>
                    <p>10+ years of experience helping students manage anxiety and academic stress.</p>
                    <div class="counselor-specialties">
                        <span class="specialty-tag">Anxiety</span>
                        <span class="specialty-tag">Stress</span>
                        <span class="specialty-tag">CBT</span>
                    </div>
                </div>
                
                <div class="counselor-card" data-counselor="dr-johnson">
                    <div class="counselor-header">
                        <div class="counselor-avatar">DJ</div>
                        <div>
                            <h4>Dr. Michael Johnson</h4>
                            <p>Relationship Counselor</p>
                        </div>
                    </div>
                    <p>Specializes in interpersonal relationships and communication issues.</p>
                    <div class="counselor-specialties">
                        <span class="specialty-tag">Relationships</span>
                        <span class="specialty-tag">Communication</span>
                        <span class="specialty-tag">Family Issues</span>
                    </div>
                </div>
                
                <div class="counselor-card" data-counselor="dr-garcia">
                    <div class="counselor-header">
                        <div class="counselor-avatar">DG</div>
                        <div>
                            <h4>Dr. Elena Garcia</h4>
                            <p>Trauma & PTSD Specialist</p>
                        </div>
                    </div>
                    <p>Expert in trauma-informed care and evidence-based treatments for PTSD.</p>
                    <div class="counselor-specialties">
                        <span class="specialty-tag">Trauma</span>
                        <span class="specialty-tag">PTSD</span>
                        <span class="specialty-tag">EMDR</span>
                    </div>
                </div>
            </div>
            
            <div class="appointment-form">
                <h3>Schedule Your Session</h3>
                <p>Select a date and time for your appointment</p>
                
                <div class="form-container">
                    <form id="appointmentForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="name">Your Name (optional)</label>
                                <input type="text" id="name" placeholder="Enter your name">
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" placeholder="Your email address">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="concern">What would you like to discuss?</label>
                            <select id="concern">
                                <option value="">Select a concern</option>
                                <option value="anxiety">Anxiety & Stress</option>
                                <option value="depression">Depression & Mood</option>
                                <option value="relationships">Relationship Issues</option>
                                <option value="academic">Academic Pressure</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="appointmentDate">Preferred Date</label>
                            <input type="date" id="appointmentDate">
                        </div>
                        
                        <div class="form-group">
                            <label>Available Time Slots</label>
                            <div class="time-slots">
                                <div class="time-slot">9:00 AM</div>
                                <div class="time-slot">10:00 AM</div>
                                <div class="time-slot unavailable">11:00 AM</div>
                                <div class="time-slot">1:00 PM</div>
                                <div class="time-slot">2:00 PM</div>
                                <div class="time-slot">3:00 PM</div>
                                <div class="time-slot">4:00 PM</div>
                                <div class="time-slot unavailable">5:00 PM</div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="notes">Additional Notes (optional)</label>
                            <textarea id="notes" rows="3" placeholder="Anything you'd like your counselor to know beforehand"></textarea>
                        </div>
                        
                        <button type="button" class="btn btn-primary" id="bookAppointment" style="width: 100%;">
                            <i class="fas fa-calendar-check"></i> Book Appointment
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div class="modal-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Appointment Confirmed!</h2>
            <p>Your session has been successfully scheduled.</p>
            <div id="appointmentDetails" style="text-align: left; margin: 20px 0; padding: 15px; background-color: #f9f9f9; border-radius: 8px;">
                <!-- Appointment details will be inserted here -->
            </div>
            <p>You will receive a confirmation email shortly.</p>
            <button class="btn btn-primary" onclick="closeModal()" style="margin-top: 20px;">Done</button>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>Your data is always safe and anonymous. We never share your personal information.</p>
            <p>MindWell &copy; 2023. A supportive community for student mental wellness.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Counselor selection
        const counselorCards = document.querySelectorAll('.counselor-card');
        let selectedCounselor = 'dr-smith'; // Default selection
        
        counselorCards.forEach(card => {
            card.addEventListener('click', () => {
                counselorCards.forEach(c => c.classList.remove('selected'));
                card.classList.add('selected');
                selectedCounselor = card.getAttribute('data-counselor');
            });
        });
        
        // Time slot selection
        const timeSlots = document.querySelectorAll('.time-slot:not(.unavailable)');
        let selectedTime = '';
        
        timeSlots.forEach(slot => {
            slot.addEventListener('click', () => {
                timeSlots.forEach(s => s.classList.remove('selected'));
                slot.classList.add('selected');
                selectedTime = slot.textContent;
            });
        });
        
        // Set minimum date to today
        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        const todayStr = `${yyyy}-${mm}-${dd}`;
        document.getElementById('appointmentDate').setAttribute('min', todayStr);
        
        // Form submission
        document.getElementById('bookAppointment').addEventListener('click', () => {
            const date = document.getElementById('appointmentDate').value;
            const concern = document.getElementById('concern').value;
            
            if (!date || !selectedTime || !concern) {
                alert('Please select a date, time, and concern for your appointment.');
                return;
            }
            
            // Get counselor name
            let counselorName = '';
            switch(selectedCounselor) {
                case 'dr-smith':
                    counselorName = 'Dr. Sarah Smith';
                    break;
                case 'dr-johnson':
                    counselorName = 'Dr. Michael Johnson';
                    break;
                case 'dr-garcia':
                    counselorName = 'Dr. Elena Garcia';
                    break;
            }
            
            // Format date for display
            const appointmentDate = new Date(date);
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const formattedDate = appointmentDate.toLocaleDateString('en-US', options);
            
            // Create confirmation details
            const detailsHTML = `
                <p><strong>Counselor:</strong> ${counselorName}</p>
                <p><strong>Date:</strong> ${formattedDate}</p>
                <p><strong>Time:</strong> ${selectedTime}</p>
                <p><strong>Concern:</strong> ${document.getElementById('concern').options[document.getElementById('concern').selectedIndex].text}</p>
            `;
            
            document.getElementById('appointmentDetails').innerHTML = detailsHTML;
            document.getElementById('confirmationModal').style.display = 'flex';
        });
        
        // Close modal function
        function closeModal() {
            document.getElementById('confirmationModal').style.display = 'none';
            
            // Reset form
            document.getElementById('appointmentForm').reset();
            timeSlots.forEach(s => s.classList.remove('selected'));
            selectedTime = '';
        }
        
        // Close modal if clicked outside
        window.addEventListener('click', (e) => {
            if (e.target === document.getElementById('confirmationModal')) {
                closeModal();
            }
        });
    </script>
</body>
</html>